# 构建指南

通过 CMake 实现跨平台构建

## 前置要求

- cmake > 3.1
- Visual Studio | Xcode

## Windows 平台

进入 MemoryProfiler/MemoryCrawler 目录，执行 gen_vs_proj.bat 批处理

```bat
.\Scripts\gen_vs_proj.bat
```

输出如下：

```
if "" == "-r" (rd /s /Q "build/Win" )

if not exist "build/Win" (md "build/Win" )

cd build/Win/   && call cmake ../../
-- * DEBUG FLAG: OFF
-- * COMMAND LINE FLAG: OFF
-- Configuring done
-- Generating done
-- Build files have been written to: D:/Workspace/MemoryProfiler/MemoryCrawler/build/Win

cd ../../

PAUSE
请按任意键继续. . .
```

此时 Visual Studio 工程已经生成到 MemoryProfiler/MemoryCrawler/build/Win，进入该目录双击使用 Visual Studio 打开改工程，“生成解决方案”即可

生成的可执行程序位于（假设是 Debug 构建）：MemoryCrawler\bin\Debug\

## macOS 平台

进入 MemoryProfiler/MemoryCrawler 目录，执行 gen_xcode_proj.sh 脚本

```sh
./Scripts/gen_xcode_proj.sh
```


